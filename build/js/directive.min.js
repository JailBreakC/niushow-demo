var app=angular.module("app");app.directive("contact",function(){return{restrict:"E",replace:!0,scope:{isOpen:"="},templateUrl:"/app/templet/directive/contact.html"}}),app.directive("uploader",["$rootScope",function(e){return{restrict:"E",replace:!0,templateUrl:"/app/templet/directive/uploader.html",scope:{fuck:"="},controller:["$scope","$timeout",function(e,t){e.uploadHander=function(e){var t=angular.element(document.getElementById("uploadHander"));t.triggerHandler("click")},e.startUpload=function(){0!=e.imgList.length&&(e.uploading=!0,e.imgList.forEach(function(e){e.progress=Math.floor(20*Math.random())+20,t(function(){e.progress=Math.floor(20*Math.random())+80,t(function(){e.progress=100},Math.floor(1e3*Math.random()))},Math.floor(500*Math.random())+500)}),t(function(){e.imgList=[],t(function(){e.isOpen=!1,e.uploading=!1},200)},2e3))}}],link:function(t,n,o){var r=angular.element(document.getElementById("uploadHander")),i=document.getElementById("uploaderForm");t.imgList=[],window.URL=window.URL?window.URL:window.webkitURL,r.on("change",function(){var n=this;e.$apply(function(){console.log(n.files);for(var e=n.files,o=0;o<e.length;o++){if("image"!==e[o].type.slice(0,5))return;var r={};r.progress=0,r.name=e[o].name,r.size=(e[o].size/1024/1024).toFixed(2),r.src=window.URL.createObjectURL(e[o]),t.imgList.push(r)}console.log(t.imgList)}),i.reset()})}}}]);